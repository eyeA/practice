<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>图片自动切换</title>
<link rel="stylesheet" type="text/css" href="css/base.css">
<style type="text/css">
img {
    border: medium none;
    margin: 0;
    padding: 0;
}
#showbox {
    border: 5px solid #c0c0c0;
    font-size: 0;
    height: 399px;
    margin: 50px auto;
    overflow: hidden;
    position: relative;
    width: 514px;
}
#wrap {
    left: 0;
    position: absolute;
    width: 3600px;
}
h1 {
    font-size: 24px;
    line-height: 36px;
    margin: 0;
    padding: 5px;
}
p {
    line-height: 20px;
    margin: 0;
    padding: 5px 5px 10px;
}
#info {
    font-size: 14px;
    left: 0;
    position: absolute;
    top: 399px;
    width: 514px;
}
#info div {
    background: #000 none repeat scroll 0 0;
    color: #fff;
    left: 0;
    opacity: 0.7;
    position: absolute;
    top: 0;
    width: 514px;
}
img{height:399px;width:514px;}
</style>
<script type="text/javascript" src="jquery-2.1.4.js"></script>
<script type="text/javascript" src="js/xg.js"></script>
<script type="text/javascript">
/*8.9-图片自动切换
思路：
	1、开一个定时器运行domove函数让第一张图片的透明层向上移动。
	2、在透明层移动完毕的时候添加回调函数执行图片向左移动。
	3、在函数执行向左移动的时候添加回调函数让透明层也向上移动，同时循环执行fntab
	4、在第一次透明层切换的时候添加一个判断，判断是否切换完毕，如果切换完毕，图片左对齐，初始化。
*/
window.onload = function(){
	var oWrap = $('wrap');
	var	oImg = oWrap.getElementsByTagName('img');
	var	num = 0	;//标识图片的个数
	var	timer = null;
	var	oInfor = $('info');
	var	oBar = oInfor.getElementsByTagName('div');

	Tab();
	function Tab(){
		setTimeout(function(){
			doMove(oBar[num],'top',20,0,function(){
				num++;
					if(num == oBar.length){
						num = 1;
						oWrap.style.left = 0;//图片左对齐
				}
				//图片开始从左向左移动
				doMove(oWrap,'left',20,-514*num,function(){
						doMove(oBar[num],'top',20,-97);//同时透明层也向上移动
						Tab();//函数循环执行Tab;
				});

			});
		},2000);
	}
	
}


</script>
</head>	
<body>
	<div id="showbox">
		<div id="wrap">
			<img src="img/8.9_bg1.gif" alt="">
			<img src="img/8.9_bg2.gif" alt="">
			<img src="img/8.9_bg3.gif" alt="">
			<img src="img/8.9_bg4.gif" alt="">
			<img src="img/8.9_bg5.gif" alt="">
			<img src="img/8.9_bg1.gif" alt="">
		</div>
		<div id="info">
			<div>
				<h1>离婚律师：第1集</h1>
				<p>1：擅长离婚诉讼、一向在法庭上慷慨激昂口若悬河的著名律师池海东（吴秀波 饰）算阴沟里翻船了，老婆公然给他戴了绿帽子，更倒霉的是作为受害者的他竟然输掉了和老婆的离婚官司。</p>
			</div>
			<div>
				<h1>离婚律师：第2集</h1>
				<p>2：擅长离婚诉讼、一向在法庭上慷慨激昂口若悬河的著名律师池海东（吴秀波 饰）算阴沟里翻船了，老婆公然给他戴了绿帽子，更倒霉的是作为受害者的他竟然输掉了和老婆的离婚官司。</p>
			</div>
			<div>
				<h1>离婚律师：第3集</h1>
				<p>3：擅长离婚诉讼、一向在法庭上慷慨激昂口若悬河的著名律师池海东（吴秀波 饰）算阴沟里翻船了，老婆公然给他戴了绿帽子，更倒霉的是作为受害者的他竟然输掉了和老婆的离婚官司。</p>
			</div>
			<div>
				<h1>离婚律师：第4集</h1>
				<p>4：擅长离婚诉讼、一向在法庭上慷慨激昂口若悬河的著名律师池海东（吴秀波 饰）算阴沟里翻船了，老婆公然给他戴了绿帽子，更倒霉的是作为受害者的他竟然输掉了和老婆的离婚官司。</p>
			</div>
			<div>
				<h1>离婚律师：第5集</h1>
				<p>5：擅长离婚诉讼、一向在法庭上慷慨激昂口若悬河的著名律师池海东（吴秀波 饰）算阴沟里翻船了，老婆公然给他戴了绿帽子，更倒霉的是作为受害者的他竟然输掉了和老婆的离婚官司。</p>
			</div>
			<div>
				<h1>离婚律师：第1集</h1>
				<p>1：擅长离婚诉讼、一向在法庭上慷慨激昂口若悬河的著名律师池海东（吴秀波 饰）算阴沟里翻船了，老婆公然给他戴了绿帽子，更倒霉的是作为受害者的他竟然输掉了和老婆的离婚官司。</p>
			</div>
		</div>
	</div>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>定时器--2</title>
	<style>
		img{border: none;width: 100px;height: 100px;display: inline-block;margin-top: 100px;cursor: pointer;position: absolute;left: 20px}
	</style>
</head>
<body>
	<img id="img1" src="img/日食6.jpg" alt="">
	<script src='dong.js'></script>
	<script>
		window.onload = function(){
			var oImg = document.getElementById('img1');
			var arrShake = [];

			oImg.onclick = function(){
				for(var i=20;i>0;i-=2){
					arrShake.push(i,-i);
				}
				arrShake.push(0);
				// alert(arrShake);
				// doMove(oImg,arrShake3,12,180);

				// var speed = parseInt(getStyle(oImg,'left')) + 10 ;  // 如果放在这里，定时器执行一次 为啥

				clearInterval(oImg.timer);

				oImg.timer = setInterval(function(){
					var speed = parseInt(getStyle(oImg,'left')) + 10 ;
					if(speed == 300){
						speed = 300;
					}
					oImg.style.left = speed +'px' ;

					if(speed == 300){
						clearInterval(oImg.timer);
					}


				},50);




			};
		}
	</script>
</body>
</html>
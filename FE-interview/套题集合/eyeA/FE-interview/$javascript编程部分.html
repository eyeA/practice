<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>$javascript编程部分</title>
</head>
<body>
	<script>
		function log(msg){
			//console.log(msg); // 传入一个参数还好 如果多个就不行了 换 伪数组argumengts换成数组
			var args = Array.prototype.slice.call(arguments);
			args.unshift('(wxd)');
			console.log.apply(console,args);
		}
//  今天是星期几
		var days = ['日','一','二','三','四','五','六'];	
		var date = new Date();
		log('今天是星期' + days[date.getDay()] + date.getDay());
// 循环 延时 输出结果0 1 2 3 4,
		for(var i=0;i<5;i++){
			(function(i){
				setTimeout(function(){
					log(i);
				},1000);				
			})(i);
		};
// 完成一个函数,接受数组作为参数,数组元素为整数或者数组,数组元素包含整数或数组,函数返回扁平化后的数组
// 如：[1, [2, [ [3, 4], 5], 6]] => [1, 2, 3, 4, 5, 6]
		var flatarr = [1, [2, [ [3, 4], 5], 6]];
		function flat(flatarr,result){
			var i,len,d;
			// var result = [];  -->放到这里是不行的 为啥
			for(i=0,len = flatarr.length;i<len;i++){
				d = flatarr[i];
				if(typeof d === 'number'){
					result.push(d);
				}else{
					flat(d,result);  //这个方法 应该是递归
				}
			};
		};
		var result = [];
		flat(flatarr,result);
		log('扁平化数组结果是result---->'+ result);
//判断一个对象是否是   数组    ----->如果浏览器支持Array.isArray()可以直接判断否则需进行必要判断
		function isArray(arg){
			if(typeof arg === 'object'){
				return Object.prototype.toString.call(arg) === '[object Array]';
			}
			return false;
		}
	</script>






<span id="target"></span>
<script type="text/javascript">
    // 为了简化。每月默认30天
    function getTimeString() {
        var start = new Date();
        var end = new Date(start.getFullYear() + 1, 0, 1);
        var elapse = Math.floor((end - start) / 1000);

        var seconds = elapse % 60 ;
        var minutes = Math.floor(elapse / 60) % 60;
        var hours = Math.floor(elapse / (60 * 60)) % 24;
        var days = Math.floor(elapse / (60 * 60 * 24)) % 30;
        var months = Math.floor(elapse / (60 * 60 * 24 * 30)) % 12;
        var years = Math.floor(elapse / (60 * 60 * 24 * 30 * 12));

        return start.getFullYear() + '年还剩' + years + '年' + months + '月' + days + '日'
            + hours + '小时' + minutes + '分' + seconds + '秒';
    }

    function domText(elem, text) {
        if (text == undefined) {

            if (elem.textContent) {
                return elem.textContent;
            } else if (elem.innerText) {
                return elem.innerText;
            }
        } else {
            if (elem.textContent) {
                elem.textContent = text;
            } else if (elem.innerText) {
                elem.innerText = text;
            } else {
                elem.innerHTML = text;
            }
        }
    }

    var target = document.getElementById('target');

    setInterval(function () {
        domText(target, getTimeString());
    }, 1000)
</script>
</body>
</html>